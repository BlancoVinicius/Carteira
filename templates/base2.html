{% load static %}
<!doctype html>
<html lang="pt-br" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Barra Lateral{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    {% block extra_css %}{% endblock %}
    <style>
      html, body { height: 100%; }
      .sidebar { width: 280px; transition: width .2s ease-in-out; }
      .brand-badge { width: 34px; height: 34px; display: inline-flex; align-items: center; justify-content: center; font-weight: 700; border-radius: .5rem; background-color: rgba(255,255,255,.1); }
      .nav-link { border-radius: .5rem; padding: .6rem .8rem; }
      .nav-link .bi { margin-right: .6rem; font-size: 1rem; }
      .profile-area { margin-top: auto; }
      .divider { opacity: .2; }

      /* Toggle button */
      .toggle-btn { border-color: rgba(255,255,255,.25); color: #fff; }
      .toggle-btn:hover { background: rgba(255,255,255,.08); }

      /* Collapsed state */
      .sidebar-collapsed .sidebar { width: 72px; }
      .sidebar-collapsed .sidebar .label-text { display: none; }
      .sidebar-collapsed .sidebar .brand-title { display: none; }
      .sidebar-collapsed .sidebar .nav-link { justify-content: center; }
      .sidebar-collapsed .sidebar .nav-link .bi { margin-right: 0; }
      .sidebar-collapsed .sidebar .profile-area .dropdown-toggle strong { display: none; }
      .sidebar-collapsed .sidebar .profile-area .dropdown-toggle::after { display: none; }
    </style>
  </head>
  <body class="bg-dark text-white">
    <div class="d-flex">
      <aside class="sidebar d-flex flex-column p-3">
        <div class="d-flex align-items-center justify-content-between mb-3">
            <button class="btn btn-sm toggle-btn" id="sidebarToggle" type="button" aria-label="Alternar menu">
            <i class="bi bi-list"></i>
            </button>
            <span class="fs-5 fw-semibold brand-title">Barra Lateral</span>
            {% comment %} <a href="#" class="d-flex align-items-center text-white text-decoration-none">
                <span class="brand-badge me-2">B</span>
                <span class="fs-5 fw-semibold brand-title">Barra Lateral</span>
            </a> {% endcomment %}
        </div>
        <ul class="nav nav-pills flex-column mb-4">
          <li class="nav-item">
            <a href="#" class="nav-link active text-white bg-primary d-flex align-items-center">
              <i class="bi bi-house"></i>
              <span class="label-text">Casa</span>
            </a>
          </li>
          <li>
            <a href="#" class="nav-link text-white d-flex align-items-center">
              <i class="bi bi-speedometer2"></i>
              <span class="label-text">Painel</span>
            </a>
          </li>
          <li>
            <a href="#" class="nav-link text-white d-flex align-items-center">
              <i class="bi bi-table"></i>
              <span class="label-text">Pedidos</span>
            </a>
          </li>
          <li>
            <a href="#" class="nav-link text-white d-flex align-items-center">
              <i class="bi bi-grid"></i>
              <span class="label-text">Produtos</span>
            </a>
          </li>
          <li>
            <a href="#" class="nav-link text-white d-flex align-items-center">
              <i class="bi bi-people"></i>
              <span class="label-text">Clientes</span>
            </a>
          </li>
        </ul>
        <hr class="divider">
        <div class="profile-area dropdown">
          <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="https://i.pravatar.cc/40?img=12" alt="avatar" width="32" height="32" class="rounded-circle me-2">
            <strong>mdo</strong>
          </a>
          <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
            <li><a class="dropdown-item" href="#">Perfil</a></li>
            <li><a class="dropdown-item" href="#">Configurações</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Sair</a></li>
          </ul>
        </div>
      </aside>
      <main class="flex-grow-1 p-4">
        {% block content %}
        <h1 class="h4 text-white-50">Conteúdo</h1>
        <p class="text-white-50">Sua página aqui.</p>
        {% endblock %}
      </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      (function() {
        const body = document.body;
        const btn = document.getElementById('sidebarToggle');
        const key = 'sidebar-collapsed';
        try {
          if (localStorage.getItem(key) === '1') {
            body.classList.add('sidebar-collapsed');
          }
        } catch (_) {}
        btn && btn.addEventListener('click', function() {
          body.classList.toggle('sidebar-collapsed');
          try {
            localStorage.setItem(key, body.classList.contains('sidebar-collapsed') ? '1' : '0');
          } catch (_) {}
        });
      })();
    </script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
